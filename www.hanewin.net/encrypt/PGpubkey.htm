<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
 <meta name="resource-type" content="document">
 <meta name="author" content="Herbert Hanewinkel">
 <meta name="keywords" content="OpenPGP, GnuPG, PGP, RSA, AES, Rijndael, public key encryption">
 <meta name="keywords" content="PKI, Javascript, RFC 2440">
 <meta name="keywords" content="mail encryption">
 <title>OpenPGP Message Encryption in JavaScript Demo</title>

<script language="Javascript" src="sha1.js" type="text/javascript"></script>
<script language="Javascript" src="base64.js" type="text/javascript"></script>
<script language="Javascript" src="PGpubkey.js" type="text/javascript"></script>

<script language="Javascript" type="text/javascript">

function getkey()
{
 var pu=new getPublicKey(document.t.pubkey.value);
 if(pu.vers == -1) return;

 document.t.vers.value=pu.vers;
 document.t.user.value=pu.user;
 document.t.keyfp.value=pu.fp;
 document.t.keyid.value=pu.keyid;

 var pubkey = pu.pkey.replace(/\n/g,'');
 document.t.pktype.value=pu.type;
 document.t.pkey.value=pubkey;
}

</script>
</head>

<body bgcolor="#d0d0d0">
<h2 align=center>OpenPGP Message Encryption in JavaScript Demo</h2>
<center><font size="-1">&copy; 2005 Herbert Hanewinkel</font></center>
<hr>
<center>
[OpenPGP Public Key extraction][<a href="PGencode.htm">OpenPGP Encryption</a>]
</center>
<ul>
<li>Create and export (.asc) a RSA or Elgamal PGP Public Key of 1024 Bits or more.<br>
More Bits need more time for encryption.
Compared to RSA Elgamal keys will nearly double the time for encryption.</li>
<li>Insert the exported PGP Public Key Block with your RSA public key below.</li>
<li>Copy and paste the Public Key in MPI/base-64 format (a multi-precision-integer coded in radix-64) to
    the encryption form.</li>
<li>Optional copy and paste the Key ID in hex format to the encryption form.<br>
    The Key ID identifies the public key used for encryption.<br>
    GnuPG tries all local matching keys if the key ID is all 8 bytes zero. Other software may need the key ID for decryption.</li>
</ul>
<form name=t action="javascript:getkey">
<table align=center>
<tr>
<td colspan=2>ASCII armored PGP Public Key Block (contents of exported *.asc file):</td>
</tr>
<tr>
<td width="100%" colspan=2><textarea name="pubkey" rows=14 cols=90></textarea></td>
</tr>

<tr>
<td><input type=submit value="Get Public Key Information"></td>
</tr>

<tr>
<td>Version:</td>
<td align=right><input size=60 name="vers" readonly></td>
</tr>

<tr>
<td>User ID:</td>
<td align=right><input size=60 name="user" readonly></td>
</tr>

<tr>
<td>Key Fingerprint(20 Bytes in hex):</td>
<td align=right><input size=60 name="keyfp" readonly></td>
</tr>

<tr>
<td>Key ID (8 bytes in hex):</td>
<td align=right><input size=60 name="keyid" readonly></td>
</tr>

<tr>
<td>Public Key (MPIs in base64):
<input size=20 name="pktype" readonly></td>
</tr>
<tr>
<td colspan=2>&nbsp;<input size=100 name="pkey" readonly></td>
</tr>

</table>
</form>

<hr align=center width="99%">
<table width="100%"><tr>
<td><font size="-1"><i>www.haneWIN.net</i></font></td>
<td align=right><font size="-1"><i>
<a href="http://www.hanewin.net" target="_top">Home</a>
</i></font></td>
</tr></table>
</body>
